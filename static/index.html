<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random App.</title>
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
</head>
<body>

    <div class="min-h-screen bg-gray-100 py-6 flex flex-col justify-center sm:py-12">
        <div class="relative py-3 sm:max-w-xl sm:mx-auto">
            <div class="relative px-4 py-10 bg-white shadow-lg sm:rounded-3xl sm:p-20">
                <p class="value"></p>
                <button id="generate" class="inline-flex items-center justify-center px-5 py-3 border border-transparent text-base leading-6 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:shadow-outline transition duration-150 ease-in-out">
                    Generate
                </button>
                <div>
                    <label for="price" class="block text-sm font-medium text-gray-700">Enter wind speed: </label>
                    <div class="mt-1 relative rounded-md shadow-sm">
                      <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <span class="text-gray-500 sm:text-sm">
                          $
                        </span>
                      </div>
                      <input type="text" name="s" id="s" class="focus:ring-indigo-700 focus:border-indigo-700 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md" placeholder="0.00">
                      <div class="absolute inset-y-0 right-0 flex items-center">
                        <label for="model" class="sr-only">Currency</label>
                        <select id="m" name="m" class="focus:ring-indigo-500 focus:border-indigo-500 h-full py-0 pl-2 pr-7 border-transparent bg-transparent text-gray-500 sm:text-sm rounded-md">
                          <option>Linear</option>
                          <option>Polynomial</option>
                          <option>Logistic</option>
                        </select>
                      </div>
                    </div>
                  </div>
                <button id="calculate" class="inline-flex items-center justify-center px-5 py-3 border border-transparent text-base leading-6 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:shadow-outline transition duration-150 ease-in-out">
                    Calculate
                </button>
                
                    <label for="price" class="block text-sm font-medium text-gray-700">Enter wind speed: </label>
                    <div class="mt-1 relative rounded-md shadow-sm">
                      <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <span class="text-gray-500 sm:text-sm">
                          $
                        </span>
                      </div>
                      <input type="text" name="speed" id="speed" class="focus:ring-indigo-700 focus:border-indigo-700 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md" placeholder="0.00">
                      <div class="absolute inset-y-0 right-0 flex items-center">
                        <label for="model" class="sr-only">Currency</label>
                        <select id="model" name="model" class="focus:ring-indigo-500 focus:border-indigo-500 h-full py-0 pl-2 pr-7 border-transparent bg-transparent text-gray-500 sm:text-sm rounded-md">
                          <option>Linear</option>
                          <option>Polynomial</option>
                          <option>Logistic</option>
                        </select>
                        </div>
                    </div>
                    <button onclick="submit();" class="inline-flex items-center justify-center px-5 py-3 border border-transparent text-base leading-6 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:shadow-outline transition duration-150 ease-in-out">
                        Submit
                    </button>
                  
                
            </div>
        </div>
    </div>

    

<script
    src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous">
</script>
<script>
    $("#generate").click(function(e){
        e.preventDefault();
        $.getJSON("/api/linear", function(data) {
            $('.value').text(data.value);
            console.log(data)
        });
    });  
    
    function submit() {

        var speed = document.getElementById('speed').value;
        var model = document.getElementById('model').value;

        var data = {
            speed: speed,
            model: model
        };

        

        fetch(`${window.origin}/api/linear'`, {
            method: "POST",
            credentials: "include",
            body: JSON.stringify(data),
            cache: "no-cache",
            headers: new Headers({
                "content-type": "application/json"
            })
        })

    }


    
</script>
</body>
</html>